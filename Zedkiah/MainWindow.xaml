<Window x:Class="Zedkiah.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        ShowInTaskbar="True"
        Closing="Window_Closing"
        mc:Ignorable="d"
        Title="Zedekiah - ZeroTier GUI">
    <Grid>
        <TabControl>
            <TabItem Header="ZeroTier">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,5">
                        <TextBlock Text="Network ID:"
                                   VerticalAlignment="Center"
                                   Width="70" />
                        <TextBox Width="200"
                                 Text=""
                                 Name="NetworkIdTextBox" />
                    </StackPanel>
                    <Button Name="ConnectButton"
                            Width="100"
                            Height="30"
                            Content="Join"
                            Click="ConnectButton_OnClick"
                            Grid.Row="1"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Margin="0,5" />
                    <TextBlock Grid.Row="2"
                               Name="ConnectionStatusLabel"
                               Text="Disconnected"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Bottom"
                               Margin="0,5" />
                    
                    <StackPanel Orientation="Vertical" Name="PeersInfoArea" Visibility="Collapsed" Grid.Row="3" Margin="0,5">
                        <Button Content="Refresh"
                                HorizontalAlignment="Left"
                                IsEnabled="False"
                                Name="RefreshPeersButton"
                                Click="RefreshPeersButton_OnClick"
                            ></Button>
                        <TextBox Text="Peers:"
                                 HorizontalAlignment="Left"
                                 IsReadOnly="True"
                                 Foreground="BlueViolet"
                                 Name="PeersTextBox"
                        />
                    </StackPanel>
                </Grid>
            </TabItem>
            <TabItem Header="Proxy">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,5">
                        <TextBlock Text="Port:"
                                   VerticalAlignment="Center"
                                   Width="70" />
                        <TextBox Width="200"
                                 Text="10086"
                                 PreviewTextInput="SocksPort_OnPreviewTextInput"
                                 TextChanged="SocksPort_OnTextChanged"
                                 InputScope="Number"
                                 InputMethod.IsInputMethodEnabled="False"
                                 MaxLength="5"
                                 Name="ProxyPort">
                            <TextBox.CommandBindings>
                                <CommandBinding Command="Paste" CanExecute="CommandBinding_OnCanExecute"/>
                            </TextBox.CommandBindings>
                        </TextBox>
                    </StackPanel>
                    <Button Name="ProxyButton"
                            Width="100"
                            Height="30"
                            Content="Start Proxy"
                            Click="ProxyButton_OnClick"
                            Grid.Row="1"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            IsEnabled="False"
                            Margin="0,5" />
                    <TextBlock Grid.Row="2"
                               Name="ProxyStatusLabel"
                               Text="No Proxy"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Bottom"
                               Margin="0,5" />
                </Grid>

            </TabItem>
            <TabItem Header="Settings">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,5">
                        <CheckBox Checked="AppConfig_OnChange" Unchecked="AppConfig_OnChange" Name="AutoStartAppEnabled">Auto Start GUI (THIS APP)</CheckBox>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,5">
                        <CheckBox Checked="AppConfig_OnChange" Unchecked="AppConfig_OnChange" Name="AutoStartZeroTierEnabled">Auto Start ZeroTier</CheckBox>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Grid.Row="2" Margin="0,5">
                        <CheckBox Checked="AppConfig_OnChange" Unchecked="AppConfig_OnChange" Name="AutoStartProxyEnabled">Auto Start Socks5 Proxy</CheckBox>
                    </StackPanel>
                    <Button Name="SaveConfigButton"
                            Width="100"
                            Height="30"
                            Content="Save"
                            Click="SaveConfigButton_OnClick"
                            Grid.Row="3"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            IsEnabled="False"
                            Margin="0,5" />
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>